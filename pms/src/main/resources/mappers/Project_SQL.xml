<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pms.project.ProjectMapper">
	 <insert id="writeProc" parameterType="java.util.HashMap">
    	/*writeProc*/
    	INSERT INTO pm_project
    	(
    		pro_id,
    		pro_title,
    		pro_content,
    		pro_regdate,
    		pro_startdate,
    		pro_enddate,
    		pro_file
    	)
    	VALUES
    	(
    		#{proId},
    		#{proTitle},
    		#{proContent},
    		Now(),
    		#{fromDate},
    		#{toDate},
    		#{profile}
    	)
	</insert>

	<select id="listProc" resultType="java.util.HashMap">
		/*listProc*/
		SELECT *
		FROM pm_project
		WHERE pro_delyn = 'N'
	</select>

	<update id="updateProc" parameterType="java.util.HashMap">
		/*updateProc*/
		UPDATE pm_project
		SET
			pro_title = #{proTitle},
			pro_content = #{proContent},
			pro_startdate = #{proStartdate},
			pro_enddate = #{proEnddate}
		WHERE pro_id = #{proId}
	</update>

	<update id="deleteProc" parameterType="java.util.HashMap">
		/*deleteProc*/
		UPDATE pm_project
		SET
			pro_delyn = 'Y'
		WHERE pro_id = #{proId}
	</update>

	<select id="idCount" parameterType="java.lang.String" resultType="java.lang.Integer">
        SELECT COUNT(id)
        FROM tb_member
        WHERE id = #{id}
    </select>
</mapper>